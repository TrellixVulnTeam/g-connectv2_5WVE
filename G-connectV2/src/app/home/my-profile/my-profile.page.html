<ion-header class="ion-no-border">

    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button>
                <ion-icon name="arrow-back"></ion-icon>
            </ion-back-button>
        </ion-buttons>
        <ion-title>Profile</ion-title>
    </ion-toolbar>

    <div class="alert" *ngIf="error">
        {{ error }}
        <span class="closebtn" (click)="removeError()">&times;</span>
    </div>
</ion-header>

<ion-content>
    <div class="container">
        <div class="overlay">

            <ion-avatar>
                <img [src]="img">
                <ion-input class="file" accept="image/*" type="file" (change)="uploadFile($event)"></ion-input>
            </ion-avatar>




        </div>

    </div>

    <ion-card *ngIf="cUser">
        <ion-card-header>
            <ion-card-title>{{cUser.name | uppercase}}</ion-card-title>
            <ion-card-subtitle>({{cUser.role | uppercase}})</ion-card-subtitle>
        </ion-card-header>

        <ion-card-content>
            <ion-item>
                <ion-icon name="mail"></ion-icon>
                <ion-label>{{cUser.email}}</ion-label>
                <ion-button fill="clear" (click)="showInput()" color="dark">Change?</ion-button>


            </ion-item>
            <ion-item>
                <ion-icon name="book-outline"></ion-icon>
                <ion-label>{{cUser.dept}}</ion-label>
            </ion-item>
            <div *ngIf="show">
                <ion-item>
                    <ion-icon name="swap-horizontal-outline"></ion-icon>

                    <ion-input class="change" type="email" [(ngModel)]="newEmail" color="light" placeholder="New E-Mail"> </ion-input>
                    <ion-button (click)="changeEmail(newEmail)" fill="clear" color="dark">confirm </ion-button>


                </ion-item>


            </div>
            <ion-item class="wrap" *ngIf="cUser.status">
                <ion-icon size="large" name="reader-outline"></ion-icon>
                {{ cUser.status }}
            </ion-item>
            <ion-button size="small" (click)="showStatus()">Add/change Current Status</ion-button>
            <div *ngIf="addStatus">
                <ion-textarea [(ngModel)]="status">
                    <ion-button size="small" (click)="onAddStatus(status)">Add</ion-button>
                    <ion-button size="small" (click)="cancel()">Cancel</ion-button>
                </ion-textarea>

            </div>

        </ion-card-content>

    </ion-card>

</ion-content>
